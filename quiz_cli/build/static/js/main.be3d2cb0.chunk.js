(this.webpackJsonpmundo_dos_numeros=this.webpackJsonpmundo_dos_numeros||[]).push([[0],{164:function(t,e,a){},165:function(t,e,a){},167:function(t,e,a){},168:function(t,e,a){},169:function(t,e,a){},193:function(t,e){},195:function(t,e){},209:function(t,e){},211:function(t,e){},239:function(t,e){},241:function(t,e){},242:function(t,e){},247:function(t,e){},249:function(t,e){},255:function(t,e){},257:function(t,e){},276:function(t,e){},288:function(t,e){},291:function(t,e){},308:function(t,e,a){},309:function(t,e,a){},310:function(t,e,a){},311:function(t,e,a){},312:function(t,e,a){},313:function(t,e,a){},323:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),c=a(154),r=a.n(c),o=a(158),i=a(10),u=(a(164),"integrador"),l=function(){return localStorage.getItem(u)},d=function(){localStorage.removeItem(u),window.location.href="/"},j=function(){return null!==l()},h=(a(165),a(1));function b(t){var e=t.texto,a=t.onClick;return Object(h.jsx)("button",{className:"botaoNav",type:"button",onClick:a,children:e})}a(167);function p(t){var e=t.texto,a=t.to;return Object(h.jsx)("a",{className:"myLink",href:a,children:e})}a(168);function O(t){var e=j();return Object(h.jsxs)("header",{children:[Object(h.jsxs)("div",{className:"logo",children:[Object(h.jsx)("div",{className:"numeroslinha1",children:Object(h.jsx)("div",{className:"numero2",children:Object(h.jsx)("div",{className:"numero",children:"2"})})}),Object(h.jsxs)("div",{className:"numeroslinha2",children:[Object(h.jsx)("div",{className:"numero1",children:Object(h.jsx)("div",{className:"numero",children:"1"})}),Object(h.jsx)("div",{className:"numero3",children:Object(h.jsx)("div",{className:"numero",children:"3"})})]})]}),Object(h.jsxs)("div",{className:"customnavbar",children:[Object(h.jsx)("h1",{className:"titulo",children:"MUNDO DOS N\xdaMEROS"}),Object(h.jsxs)("nav",{children:[Object(h.jsx)(b,{texto:"Cadastro de Jogadores",onClick:function(){return d()}})," |"," ",e?Object(h.jsx)(b,{texto:"Logout",onClick:function(){return d()}}):Object(h.jsx)(p,{to:"/login",texto:"Login"})]})]})]})}a(169);var m=function(t){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"contentContainer",children:t.children})]})},x=a(12),f=a.n(x),v=a(23),g=a(35),N=a(36),y=a(38),k=a(37),S=a(46),C=a.n(S),w=a(155),P=a.n(w),F=a(39);a(308);function z(t){var e=t.selected,a=t.alternativa,n=t.value;return e?Object(h.jsxs)("div",{className:"opcaoSelecionada",children:[Object(h.jsx)("div",{className:"letraSelecionada",children:a}),Object(h.jsx)("div",{className:"texto",children:n})]}):Object(h.jsxs)("div",{className:"opcao",children:[Object(h.jsx)("div",{className:"letra",children:a}),Object(h.jsx)("div",{className:"texto",children:n})]})}a(309);function A(t){var e=t.texto,a=t.type,n=t.onClick;return"submit"===a?Object(h.jsx)("button",{className:"botao",type:a,children:e}):Object(h.jsx)("button",{className:"botao",type:a,onClick:n,children:e})}a(310);function R(t){var e=Object(n.useState)(!1),a=Object(F.a)(e,2),s=a[0],c=a[1],r=Object(n.useState)([0,0,0,0]),o=Object(F.a)(r,2),i=o[0],u=o[1],l=t.numeroPergunta,d=t.pergunta,j=t.alternativasEmbaralhadas,b=t.handleProximaPergunta,p=t.handleOpcaoSelecionada,O=t.handleFinalizar;return Object(h.jsxs)("div",{className:"cardPergunta",children:[Object(h.jsxs)("div",{className:"cabecalhoPergunta",children:[Object(h.jsxs)("div",{className:"numeroPergunta",children:["Quest\xe3o ",l+1,"/10"]}),Object(h.jsx)("div",{className:"enunciado",children:d})]}),Object(h.jsxs)("div",{className:"opcoes",children:[Object(h.jsx)("button",{type:"button",onClick:function(){c(!0),u([1,0,0,0]),p(j[0])},style:{border:"none"},children:Object(h.jsx)(z,{alternativa:"A",value:j[0],selected:i[0]})}),Object(h.jsx)("button",{type:"button",onClick:function(){c(!0),u([0,1,0,0]),p(j[1])},style:{border:"none"},children:Object(h.jsx)(z,{alternativa:"B",value:j[1],selected:i[1]})}),Object(h.jsx)("button",{type:"button",onClick:function(){c(!0),u([0,0,1,0]),p(j[2])},style:{border:"none"},children:Object(h.jsx)(z,{alternativa:"C",value:j[2],selected:i[2]})}),Object(h.jsx)("button",{type:"button",onClick:function(){c(!0),u([0,0,0,1]),p(j[3])},style:{border:"none"},children:Object(h.jsx)(z,{alternativa:"D",value:j[3],selected:i[3]})})]}),s&&Object(h.jsx)(A,{texto:9===l?"Finalizar":"Pr\xf3xima Pergunta",type:"button",onClick:9===l?O:function(){b(),c(!1),u([0,0,0,0])}})]})}a(311);var _=function(t){Object(y.a)(a,t);var e=Object(k.a)(a);function a(t){return Object(g.a)(this,a),e.call(this,t)}return Object(N.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"resultadoContainer",children:[Object(h.jsx)("div",{className:"tituloForm",children:"Resultado"}),Object(h.jsxs)("div",{className:"formResultado",children:[Object(h.jsxs)("div",{className:"resultado",children:["Voc\xea respondeu corretamente ",this.props.acertos," perguntas!"]}),Object(h.jsx)("div",{className:"botaoFormulario",children:Object(h.jsx)(A,{type:"button",texto:"Ver Ranking",onClick:this.props.handleVerRanking})})]})]})}}]),a}(s.a.Component);a(312);function E(){var t=Object(n.useState)([]),e=Object(F.a)(t,2),a=e[0],s=e[1],c=Object(n.useState)([{posicao:1,usuario:"",pontuacao:null},{posicao:2,usuario:"",pontuacao:null},{posicao:3,usuario:"",pontuacao:null},{posicao:4,usuario:"",pontuacao:null},{posicao:5,usuario:"",pontuacao:null},{posicao:6,usuario:"",pontuacao:null},{posicao:7,usuario:"",pontuacao:null},{posicao:8,usuario:"",pontuacao:null},{posicao:9,usuario:"",pontuacao:null},{posicao:10,usuario:"",pontuacao:null}]),r=Object(F.a)(c,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){C.a.get("http://localhost:5555/ranking").then(function(){var t=Object(v.a)(f.a.mark((function t(e){var a,n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=0,t.t0=s,t.next=4,Promise.all(e.data.map((function(t){return{posicao:a+=1,usuario:t.username[0].toUpperCase()+t.username.substring(1),pontuacao:t.pontuacao}})));case 4:for(t.t1=t.sent,(0,t.t0)(t.t1),n=[],c=e.data.length;c<10;c++)n.push({posicao:c+1,usuario:"",pontuacao:null});i(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(h.jsxs)("div",{className:"rankingContainer",children:[Object(h.jsx)("div",{className:"rankingTitle",children:"Ranking dos Jogadores"}),Object(h.jsxs)("table",{className:"rankingTable",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"azul",children:"Posi\xe7\xe3o"}),Object(h.jsx)("th",{className:"azul",children:"Nome"}),Object(h.jsx)("th",{className:"azul",children:"Pontua\xe7\xe3o"})]})}),Object(h.jsxs)("tbody",{children:[a.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[t.posicao,"\xba"]}),Object(h.jsx)("td",{children:t.usuario}),Object(h.jsx)("td",{children:t.pontuacao})]},t.posicao)})),o.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[t.posicao,"\xba"]}),Object(h.jsx)("td",{children:t.usuario}),Object(h.jsx)("td",{children:t.pontuacao})]},t.posicao)}))]})]})]})}var I=function(t){Object(y.a)(a,t);var e=Object(k.a)(a);function a(){var t;Object(g.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={perguntas:[],perguntaAtual:0,alternativas:[],alternativasEmbaralhadas:[],opcaoSelecionada:"",acertos:0,resultado:!1,completo:!1,username:""},t.handleProximaPergunta=function(){t.state.opcaoSelecionada===t.state.perguntas[t.state.perguntaAtual].resposta&&t.setState({acertos:t.state.acertos+1}),t.embaralha(t.state.alternativas[t.state.perguntaAtual+1]),t.setState({perguntaAtual:t.state.perguntaAtual+1})},t.handleFinalizar=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.state.acertos,t.state.opcaoSelecionada===t.state.perguntas[t.state.perguntaAtual].resposta&&(t.setState({acertos:t.state.acertos+1}),a=t.state.acertos+1),t.handleSalvarPontuacao(t.state.username,a);case 3:case"end":return e.stop()}}),e)}))),t.handleSalvarPontuacao=function(){var e=Object(v.a)(f.a.mark((function e(a,n){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=l(),C.a.post("http://localhost:5555/atualizar-pontuacao",{username:a,novaPontuacao:n},{headers:{Authorization:"Bearer ".concat(s)}}).then(function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({resultado:!0}),t.setState({perguntas:[]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t.handleVerRanking=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({resultado:!1}),t.setState({completo:!0});case 2:case"end":return e.stop()}}),e)}))),t.handleOpcaoSelecionada=function(e){t.setState({opcaoSelecionada:e})},t.embaralha=function(e){for(var a,n,s=e.length;s;)n=Math.floor(Math.random()*s--),a=e[s],e[s]=e[n],e[n]=a;t.setState({alternativasEmbaralhadas:e})},t}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=l(),a=P.a.decode(e);null!==a&&this.setState({username:a.username}),C.a.get("http://localhost:5555/pergunta",{headers:{Authorization:"Bearer ".concat(e)}}).then(function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({perguntas:a.data}),e.t0=t,e.next=4,Promise.all(a.data.map((function(t){return[t.resposta,t.alternativa_um,t.alternativa_dois,t.alternativa_tres]})));case 4:e.t1=e.sent,e.t2={alternativas:e.t1},e.t0.setState.call(e.t0,e.t2),n=[a.data[0].resposta,a.data[0].alternativa_um,a.data[0].alternativa_dois,a.data[0].alternativa_tres],t.embaralha(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[this.state.perguntas[0]&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(R,{numeroPergunta:this.state.perguntaAtual,pergunta:this.state.perguntas[this.state.perguntaAtual].pergunta,alternativasEmbaralhadas:this.state.alternativasEmbaralhadas,handleProximaPergunta:this.handleProximaPergunta,handleOpcaoSelecionada:this.handleOpcaoSelecionada,handleFinalizar:this.handleFinalizar})}),this.state.resultado&&Object(h.jsx)(_,{acertos:this.state.acertos,handleVerRanking:this.handleVerRanking}),this.state.completo&&Object(h.jsx)(E,{})]})}}]),a}(s.a.Component),L=a(156),J=a(45),M=a(157),V=a(55),D=a(24),B=(a(313),function(t){Object(y.a)(a,t);var e=Object(k.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).state={username:"",password:""},n.handleChange=n.handleChange.bind(Object(J.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(J.a)(n)),n}return Object(N.a)(a,[{key:"handleChange",value:function(t){this.setState(Object(L.a)({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault();var e={method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)};fetch("http://localhost:5555/login",e).then((function(t){return t.ok||(console.log(t.status),alert(t.statusText)),t.json()})).then((function(t){var e;e=t.token,localStorage.setItem(u,e),window.location.href="/pergunta"})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t={width:"60px",display:"flex",alignItens:"center",justifyContent:"flex-end",marginRight:"10px",background:"skyblue",fontSize:"20px",fontWeight:"600"},e={borderRadius:"0",width:"390px"};return Object(h.jsx)(M.a,{className:"py-5",children:Object(h.jsxs)(V.a,{children:[Object(h.jsx)("div",{className:"tituloForm",children:"Login de Jogador"}),Object(h.jsx)("div",{className:"formLogin",children:Object(h.jsxs)(D.a,{onSubmit:this.handleSubmit,style:{width:"100%",maxWidth:600,background:"skyblue",padding:"50px 0 0 0"},className:"mx-auto",children:[Object(h.jsx)(D.a.Group,{controlId:"username",children:Object(h.jsxs)("div",{className:"inputField",children:[Object(h.jsx)(D.a.Label,{style:t,children:"Usu\xe1rio:"}),Object(h.jsx)(D.a.Control,{type:"text",name:"username",style:e,onChange:this.handleChange,value:this.state.username})]})}),Object(h.jsx)(D.a.Group,{controlId:"password",children:Object(h.jsxs)("div",{className:"inputField",children:[Object(h.jsx)(D.a.Label,{style:t,children:"Senha:"}),Object(h.jsx)(D.a.Control,{type:"password",name:"password",style:e,onChange:this.handleChange,value:this.state.password})]})}),Object(h.jsx)("div",{className:"botaoFormulario",children:Object(h.jsx)(A,{type:"submit",texto:"Entrar"})})]})})]})})}}]),a}(s.a.Component));var T=function(){return Object(h.jsx)(m,{children:Object(h.jsx)(o.a,{children:Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/pergunta",render:function(){return j()?Object(h.jsx)(I,{}):Object(h.jsx)(i.a,{to:"/login"})}}),Object(h.jsx)(i.b,{path:"/ranking",render:function(){return j()?Object(h.jsx)(E,{}):Object(h.jsx)(i.a,{to:"/login"})}}),Object(h.jsx)(i.b,{path:"/login",render:function(){return j()?Object(h.jsx)(i.a,{to:"/pergunta"}):Object(h.jsx)(B,{})}}),Object(h.jsx)(i.b,{path:"/",render:function(){return Object(h.jsx)(E,{})}})]})})})};a(322);r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root"))}},[[323,1,2]]]);
//# sourceMappingURL=main.be3d2cb0.chunk.js.map